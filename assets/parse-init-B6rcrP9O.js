import{g as s}from"./index-9mXWAHs5.js";async function t(){try{if(window.Parse&&window.Parse._initialized){console.log("Parse déjà initialisé, aucune action requise");return}if(await a(),!void 0||!void 0||!void 0){console.warn("Clés Parse manquantes dans les variables d'environnement, utilisation des valeurs par défaut");const r=s();window.Parse.initialize(r.appId,r.jsKey),window.Parse.serverURL=r.serverUrl}window.Parse._initialized=!0;try{window.Parse.enableLocalDatastore()}catch(r){console.warn("Impossible d'activer le stockage local Parse:",r)}console.log("Parse SDK initialisé avec succès via script dynamique"),typeof window.CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("parseInitialized"))}catch(n){console.error("Erreur lors de l'initialisation de Parse:",n)}}function a(){return new Promise((n,i)=>{if(window.Parse){n();return}const e=document.createElement("script");e.src="https://unpkg.com/parse/dist/parse.min.js",e.async=!0,e.onload=()=>{console.log("Parse SDK chargé dynamiquement"),n()},e.onerror=()=>{i(new Error("Impossible de charger le SDK Parse"))},document.head.appendChild(e)})}export{t as initializeParseSDK};
